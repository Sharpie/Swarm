<sect1 id="swarm.user.user2.08.sect1">
  <title>Extending basic functionality</title>

<sect2>
 <title>Bug in Swarm II: More bugs</title> 

    <para>To manage more than one bug add

      <itemizedlist>
        <listitem>
          <literal>World</literal>, a <classname>Grid2d</classname>
          instance that enforces one bug per location </listitem>
        <listitem>
          <literal>bugList</literal>, to keep track of bugs as a
          collection.
        </listitem>
      </itemizedlist>
      
    </para>

    <para>main Food. SpaceModelSwarmbugList</para>

</sect2>

<sect2>
 <title>Creating a population of agents</title> 

    <para>Create collection objects (Grid2d, List) to keep track of
    agents</PARA>

    <para>In for loop create each instance & initialize.</PARA> 

    <para>Then put each agent on list, grid (create world)

      <programlisting>
<![CDATA [
 bugList =[List create: [self getZone]];
 for(y = 0;y < worldYSize; y++) for (x = 0; x <= worldXSize; x++)
 if ([uniformDblRand getDoubleWithMin: 0 withMax: max] < = bugDensity)
  {
   aBug = [Bug createBegin: self];
   [aBug setWorld: world Food: foodSpace];
   [aBug setX: x Y: y]; 
   aBug = [aBug createEnd];

   [world putObject: aBug atX: x Y: y];
   [bugList addLast: aBug];
]]>
</programlisting>  
s
    </para>

</sect2>

<sect2>
 <title>Bug in Swarm III: Loading state</title> 

    <para>The <filename>model.setup</filename> file:
      <programlistingco>
        <areaspec>
          <area coords="1 1" id="begin">
          <area coords="6 1" id="end">
        </areaspec>
      <programlisting>
@begin
worldXSize 80
worldYSize 80
seedProb 0.9
bugDensity 0.01
@end
</programlisting>
        <calloutlist>
          <callout arearefs="begin end">
            <para>Required</para>
          </callout>
        </calloutlist>
      </programlistingco>
    </para>

    <formalpara>
      <title>ObjectLoader</title>
      <para> needs target object name of file. </para>
    </formalpara>

    <formalpara>
      <title>ObjectLoader</title>
      <para> Reads values of ivars from file</para>
    </formalpara>

    <formalpara>
      <title>ObjectSaver</title>
      <para> Writes values of ivars to file</para>
    </formalpara>

    <para>
      Any instance vars not mentioned in infile unchanged.</para>

</sect2>
</sect1>
<!--
Local Variables:
sgml-parent-document:("userbook.sgml" "SECT1")
End:
-->

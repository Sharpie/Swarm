<sect1 id="swarm.user.user2.03.sect1">
  <title>Object-oriented basics</title>

<sect2>
 <title>Typical create phase</title> 


    <programlisting>
aBug = [Bug createBegin: globalZone];
aBug = [aBug createEnd];
[aBug setWorldSizeX: xsize Y: ysize];
[aBug setFoodSpace: foodSpace];
[aBug setX: xPos Y: yPos];
</programlisting>

    <orderedlist>

      <listitem><para>Allocate memory etc.  </para></listitem>

      <listitem><para>Set all necessary parameters </para></listitem>

      <listitem><para>Finish initialization and return proper instance
          of object</para></listitem>

    </orderedlist>

</sect2>

<sect2>
 <title>Bug in ObjC II: The FoodSpace</title> 

    <para>Here create a world for the bug to roam around in.  The world is 
      defined in <classname>FoodSpace</classname>, a subclass of 
      <classname>Discrete2d</classname></para>

    <para><classname>Discrete2d</classname> manages a lattice of integer values 
      By passing the Bug a pointer to FoodSpace it can 'talk' to  (i.e. forage in) the 
      other object</para>

    <programlisting>main
Bug
FoodSpace
</programlisting>

</sect2>

<sect2>
 <title>The FoodSpace class</title> 

    <para>By subclassing from <classname>Discrete2d</classname>,
      <classname>FoodSpace</classname> inherits several Ivars and about 
      16 methods to store and retrieve values in 2d space
    </PARA>

    <para>The only addition is a method to fill space with 'food'

      <programlisting>

-seedFoodWithProb:(float)seedProb 
{

 int x,y;
 for (y = 0; y &#060 ysize; y++) 
  {
   for (x = 0; x &#060 xsize; x++) 
    {
     if ([uniformDblRand getDoubleWithMin: 0.0 withMax: 1.0]&#060=seedProb)
       [self putValue: 1 atX: x Y: y];
    }
  }
 return self;
}
</programlisting>

      Inherited method Inherited variables
</para>

</sect2>

<sect2>
 <title>The power of inheritance</title> 

    <formalpara><title>Defobj</title><para>
        Root class of Swarm. Memory management, create, drop etc.
      </para></formalpara>

    <formalpara><title>SwarmObject</title>
      <para>Adds support for probes</para></formalpara>

    <formalpara><title>Discrete2d</title>
      <para>2d lattice management</para></formalpara>

    <formalpara><title>FoodSpace</title><para></para></formalpara> 

</sect2>
</sect1>
<!--
Local Variables:
sgml-parent-document:("userbook.sgml" "SECT1")
End:
-->

include @swarm_prefix@/etc/swarm/Makefile.common

APPEXE = $(APPLICATION)@EXESUFFIX@

.PHONY: install-config install-data

all: $(APPEXE)

clean:
	-rm -f $(OBJECTS) $(APPEXE) $(OTHERCLEAN) core gmon.out

install: $(APPEXE) install-config install-data
	$(INSTALL_PROGRAM) $(APPEXE) $(bindir)

install-config:
	if test -n "$(CONFIGFILES)" ; then \
	  test -d $(swarmsysconfdir)/$(APPLICATION) \
	    || mkdir $(swarmsysconfdir)/$(APPLICATION) ; \
	  $(INSTALL_DATA) $(CONFIGFILES) $(swarmsysconfdir)/$(APPLICATION) ; \
        fi

install-data:
	if test -n "$(DATAFILES)" ; then \
	  test -d $(swarmdatadir)/$(APPLICATION) \
	    || mkdir $(swarmdatadir)/$(APPLICATION) ; \
	  $(INSTALL_DATA) $(DATAFILES) $(swarmdatadir)/$(APPLICATION) ; \
        fi

$(APPEXE): $(OBJECTS)
	$(bindir)/libtool-swarm --mode link $(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(OBJECTS) $(APPLIBS) $(SWARMLIBS) $(SYSLIBS) $(LIBS)


# Local variables:
# mode: makefile
# end:

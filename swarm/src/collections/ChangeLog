1998-11-17  Marcus G. Daniels  <mgd@chama.santafe.edu>

	* Collection.[hm], Map.[hm]: Reformatting throughout.

1998-11-16  Marcus G. Daniels  <mgd@chama.santafe.edu>

	* predicates.[hm] (keywordp, valuep, arrayp): New predicates.

	* InputStream.m: Include misc.h instead of stdio.h and ctype.h
	Include predicates.h.
	([InputStream_c -getExpr]): Don't require leading 0 on octal
	numbers.  Handle negative values.  

	* InputStream.[hm] (ArchiverKeyword_c,
	ArchiverArray_c, ArchiverValue_c): New classes.

	* collections.h: Add corresponding protocols.

	* collections.m (_collections_implement): Associate them.

1998-11-15  Marcus G. Daniels  <mgd@chama.santafe.edu>

	* InputStream.m ([InputStream_c -_unexpectedEOF_], 
	[InputStream_c -_badType_:]): Raise an event instead of aborting.
	Change return type to void.
	([InputStream_c -getExpr]): Add support for keyword and array
	loading.

1998-11-12  Marcus G. Daniels  <mgd@chama.santafe.edu>

	* OutputStream.[hm]: Remove -appendC:.

1998-11-11  Marcus G. Daniels  <mgd@chama.santafe.edu>

	* Array.[hm] ([Array_c +create:setMemberAlloc:setCount:],
	[Array_c -getMemberAlloc]
	[Array_c -setMemberAlloc:setCount:]): Remove.

	* collections.h: Remove creating -setDefaultMember:; there is
	already a setting method.

1998-11-02  Marcus G. Daniels  <mgd@chama.santafe.edu>

	* collections.h (Collection): Note that copies are shallow.

1998-10-10  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* Makefile.am (REVISION): Increment.  Swarm 1.3.1 released.

	* OrderedSet.m: Reformatting throughout.
	([OrderedSet_c -contains:]): Return YES and NO instead of 1 and 0.  

	* collections.h (Sorted): Moved to design document.
	
	* StringObject.m ([String_c +create:setC:]): Use getZone instead
	of argument aZone for allocating string space.

1998-09-08  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* Map.[hm]: ([MapIndex_c -setLoc:]): 
	Make argument to setLoc: of type id <Symbol>.

	* Set.[hm] ([SetIndex_c -setLoc:]): Likewise.

	* List_GEN.[hm] ([TINDEX -setLoc:]): Likewise.

	* Array.[hm] ([ArrayIndex_c -setLoc:]): Likewise.

	* Map.h, List_GEN.h, Set.h: Reformatting throughout.

	* collections.h (INDEXSTARTP, INDEXENDP, REMOVEDP,
	ARCHIVERLITERALP): New macros.

	* Collection.m: Reformatting throughout.
	([Index_any -findNext:]): Use INDEXENDP.
	([Index_any -findPrev:]): Use INDEXSTARTP.

	* Array.m: Reformatting throughout.
	Include collections.h.
	([ArrayIndex_c -next], [ArrayIndex_c -prev], [ArrayIndex_c -get], 
	[ArrayIndex_c -put:], [ArrayIndex_c -getLoc], [ArrayIndex_c -setLoc:],
	[ArrayIndex_c -getOffset]):  Use INDEX{START,END}P.

1998-08-24  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* Makefile.am (CURRENT): Increment.  Swarm 1.3 released.
	(install-data-local): Do two installs, for install-sh case.

1998-07-30  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* Array.m (initArray): Avoid allocating a block of size zero.

1998-07-22  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* collections.h: Replace @deftype with @protocol throughout.

1998-07-20  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* Makefile.am: Replace String with StringObject.

	* StringObject.m, predicates.m: Include StringObject.h instead of
	String.h.

1998-07-16  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* collections.h: Remove Stack and Queue (now in design document).

1998-07-09  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* Map.m ([Map_c -at:insert:]): Actually reject an insert for
	a pre-existing key.

	* collections.h (Map): Remove mention of DupOption.

	* Makefile.am (INCLUDES): Add misc.

1998-07-08  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* String.m: Don't include string.h.  Include misc.h.

	* InputStream.m, OutputStream.m: Don't include string.h or assert.h.

1998-07-08  Alex Lancaster  <alex@santafe.edu>

	* collections.h (KeyedCollection): Removed to design document
	-getCountAtKey:, -containsKey: methods, all are unimplemented.
	Removed comments for -{get,set}IndexFromMember:
	(KeyCollectionsIndex): Removed to design document commented-out
	-setMember method.
	(Map): Removed to design document -setKeyType:, setKeySize:
	methods, unimplemented.

1998-06-30  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* List_GEN.m ([... -next]): Return NULL if there is a wrap.

1998-06-25  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* String.m, collections.[hm]: Remove LiteralString.

1998-06-24  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* Makefile.am (lib_LIBRARIES, libcollections_a_SOURCES): Remove.
	(collections_HEADERS): Remove $(module_headers).
	(EXTRA_DIST): Add List_GEN.m.
	(install-data-local): New target.

1998-06-23  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* Makefile.am (lib_LTLIBRARIES, libcollections_la_SOURCES,
	libcollections_la_LDFLAGS, SRC, CURRENT, REVISION, AGE): New
	variables.  Set *_SOURCES from SRC.

1998-06-22  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* Makefile: Remove.

1998-06-21  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* Makefile.am: New file.

1998-06-17  Alex Lancaster  <alex@santafe.edu>

	* collections.m: Removed extern from LiteralString declaration.

1998-06-15  Alex Lancaster  <alex@santafe.edu>

	* Array.m ([Array_c -describe:]): Removed cast of pointer to
	unsigned long.

1998-06-14  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* collections.h: Remove MemberType; don't adopt it in Collection.
	Remove IndexSafety.  Remove mention of MemberType in Drop.  Remove
	EndsOnly; don't adopt it in List.  Remove DupOption,
	BucketFunction, PartiallyOrdered, PartialOrderContext, and
	PartialOrderRelations; don't adopt in KeyedCollection.  Remove
	mention of duplicate key, partial ordering, and index safety from
	KeyedCollection.  Remove disabled -setIndexFromKey:,
	-getIndexFromKey, -getKeyAllocSize, -at:insert:setIndex:,
	-insertGroup, -removeKey:getKey:, -replaceKey:,
	-createIndex:setKey:, -createIndex:setMember:.

1998-06-05  Alex Lancaster  <alex@santafe.edu>

	* collections.h (LiteralString): Made an extern id <String>,
	rather than @class variable.  Added doc tag.
	(DupOption): Put space between global variable tag and @end
	directive - causing problems for make-h2x script.

	* collections.m: (LiteralString): Likewise, removed dummy
	#defines.
	
1998-06-03  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* collections.h: Updated documentation tags.
	(BucketFunction): -getBucketFunction now returns bucket_t.
	(CompareFunction): -getCompareFunction now returns compare_t.

1998-06-01  Alex Lancaster  <alex@santafe.edu>

	* collections.h (Collection): Added method -setIndexFromMemberLoc:
	to protocol.
	(Index): Added doc string (//G) to Symbol and Error global
	variables - made these inside the @end protocol declaration for
	Index.
	(KeyedCollection): Added method -createIndex:fromMember: to
	protocol.
	
	* collections.m (LiteralString): Redefine LiteralString as
	LiteralString_ between the imports of collections.xm and
	Collection.h to avoid redeclaration error.

1998-06-01  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* collections.m: Put LiteralString global here.

	* collections.h: Make LiteralString a @class.

1998-05-06  Marcus G. Daniels  <mgd@ute.santafe.edu>

	* collections.h (IndexSafety, Offsets, ForEach, DefaultMember,
	MemberBlock, Array, EndsOnly, DupOption, Sorted, CompareFunction,
	BucketFunction, PartiallyOrdered, PartialOrderContext, MapIndex,
	InputStream): Add //S.

	* Set.m ([Set_c -at:memberSlot:]): Return NO, not nil.
	
	* collections.h	(Index, ListIndex, Stack, Queue, PartialOrderRelations,
	Set, MapIndex): Add phase tags.

1998-05-04  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* collections.h: Remove NextPrev from Index protocol.  Tweak
	comments for the sake of documentation processing.

1998-04-30  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* Set.[hm] ([Set_c -createIndex:fromMember:]): Rename from
	createIndexIn:fromMember:.  Raise a NotImplemented event.

	* ListGen.m: Adjust error message to be createIndex:fromMember
	not createIndexIn:fromMember.

	* collections.h: Augment the Index documentation.  Move the
	existing Index info to the Collections protocol, as it is
	a bit more general.

1998-04-28  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* collections.h: Add documentation tags.

	* collections.h: New protocols: MemberType, IndexSafety, Offsets, 
	ForEach.  (Collection): Include them.
	New protocols: DefaultMember, MemberBlock.
	(Array): Include them.
	New protocol: EndsOnly.
	(List): Include it.
	New protocols: DupOption, Sorted, CompareFunction, BucketFunction,
	PartiallyOrdered, PartialOrderContext, PartialOrderRelations.
	(KeyedCollection): Include them.

	* String.m: Reformatting throughout.
	
	* String.[hm]: ([String_c -appendC:]): Remove.

	* InputStream.m (readString): Use catC: instead of appendC:.

1998-04-27  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* Makefile: Remove duplicate SWARMHOME assignment.

1998-04-11  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* collections.h: Make archiver symbols extern, not common.

1997-12-04  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* collections.h (OutputStream, String):  Constify string arguments.

	* OutputStream.[hm]: Constify string arguments.

	* String.[hm]: Constify string arguments.

1997-11-29  Marcus G. Daniels  <mgd@wijiji.santafe.edu>

	* Makefile (OBJECTS): Add InputStream.o and predicates.o.
	(install-headers): Add InputStream.h and predicates.o.
	($(INCLIB)/InputStream.h): Add.
	($(INCLIB)/predicates.h): Add.

	* collections.m (_collections_implement): Add InputStream.
	(_collections_initialize): Make customized LiteralString type.
	Define Lispish symbols generated by getExpr.

	* collections.h: Add @deftype for InputStream, and declare symbols
	that getExpr can return.

	* predicates.[hm]: New files.  Provide some convenience predicate
	functions for identifying strings and lists.

	* InputStream.[hm]: New files.  This class is introduced to read
	Lisp-like expressions into lists using the `getExpr' method.

	* collections.h: Declare [gs]etLiteralFlag methods.

	* String.m ([String_c +createBegin:]): Initialize literalFlag to zero.
	([String_c -setLiteralFlag:]): Add.
	([String_c -getLiteralFlag]): Add.
	([String_c -out:]): Add.  This routine that writes string to
	an archive stream, and quotes its value when literalFlag is set.

	* String.h (String_s): Add literalFlag instance variable, and
	declare accompanying getter/setter methods.

	* collections.h: Append <Collection> to KeyedCollection deftype.
